[{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to crane","title":"Contributing to crane","text":"outlines propose change {crane}.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to crane","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to crane","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See guide create great issue advice.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to crane","text":"Fork package clone onto computer. Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). Make changes, commit git, create PR. title PR briefly describe change. body PR contain Closes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code Style","title":"Contributing to crane","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept. helper/non-exported function named period prefix, e.g. .helper_function(). helper/non-exported functions documented roxygen2 indicated . Include #' @keywords internal mark function internal. helper functions appear examples, need use crane::: prefix, e.g. #' @example crane:::.helper_function()","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"error-handling","dir":"","previous_headings":"Bigger changes","what":"Error Handling","title":"Contributing to crane","text":"use {cli} package signal errors, warnings, messages users. call cli::cli_abort(), call argument must used correctly message users calling function. general function can re-used check, example, user-passed argument values, shall placed R\\import-standalone-checks.R. checks file re-used among multiple projects. need modify file, please review section standalone scripts.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"package-dependencies","dir":"","previous_headings":"Bigger changes","what":"Package Dependencies","title":"Contributing to crane","text":"Generally, additional package dependencies may added. code add readable using, example, using {tidyverse} function, consider adding shim function one standalone scripts. See section standalone scripts details.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"standalone-scripts","dir":"","previous_headings":"Bigger changes","what":"Standalone Scripts","title":"Contributing to crane","text":"package utilizes standalone scripts used across projects. scripts make available shims common tidyverse functions, can use function without depending package. \"checks\" script series functions check argument values supplied users, provides informative error messages values valid. make changes files directly: rather, update files source location. import-standalone-purrr.R: https://github.com/r-lib/rlang/blob/main/R/standalone-purrr.R import-standalone-forcats.R https://github.com/insightsengineering/standalone/blob/main/R/standalone-forcats.R import-standalone-stringr.R https://github.com/insightsengineering/standalone/blob/main/R/standalone-stringr.R import-standalone-checks.R https://github.com/insightsengineering/standalone/blob/main/R/standalone-checks.R update made, can copy file repo ","code":"usethis::use_standalone(\"r-lib/rlang\", file = \"purrr\") usethis::use_standalone(\"insightsengineering/standalone\", file = \"forcats\") usethis::use_standalone(\"insightsengineering/standalone\", file = \"stringr\") usethis::use_standalone(\"insightsengineering/standalone\", file = \"checks\")"},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributing to crane","text":"{crane} package exports basic functions styling ARDs tables using Roche theme.","code":""},{"path":"https://insightsengineering.github.io/crane/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to crane","text":"Please note crane released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://insightsengineering.github.io/crane/articles/crane.html","id":"what-is-crane","dir":"Articles","previous_headings":"","what":"What is {crane}?","title":"Introduction to {crane}","text":"{crane} package supplements {gtsummary} package ease process creating Roche clinical trial tables. {gtsummary} general framework building tables, {crane} utilizes frame work exports functions meant simplify creation summary tables pharmaceutical industry. {crane} package includes wrapper functions {gtsummary} functions make easier apply common pharma-specific modifications table formats. example, demographics tables use certain variables formatting conventions default. crane package loaded R session, couple things occur. expected, {crane} package loaded, {gtsummary}, {cards}, {cardx} packages also loaded. Roche gtsummary theme set running crane::theme_gtsummary_roche(). theme changes default behaviors {gtsummary} tables; example, p-values rounded label_roche_pvalue(), tables printed {flextable} instead {gt}. See function’s help file details.","code":"library(crane) #> Loading required package: gtsummary theme_gtsummary_roche() #> Setting theme \"Roche\""},{"path":"https://insightsengineering.github.io/crane/articles/crane.html","id":"when-should-i-add-a-new-function-to-crane","dir":"Articles","previous_headings":"What is {crane}?","what":"When should I add a new function to {crane}?","title":"Introduction to {crane}","text":"Roche tables can created using {gtsummary}, tables code can become long. cases, adding new function {crane} warranted. example, standard demographics table can created gtsummary::tbl_summary(). common table, code somewhat long, therefore created crane::tbl_roche_summary(). create Roche standard demographics table, simple call:  Placebo  N = 86 Xanomeline High Dose  N = 84 Xanomeline Low Dose  N = 84 Age    n 86 84 84 Mean (SD) 75 (9) 74 (8) 76 (8) Median 76 76 78 Min - Max 52 - 89 56 - 88 51 - 88 Race    n 86 84 84 AMERICAN INDIAN ALASKA NATIVE 0 1 (1.2%) 0 BLACK AFRICAN AMERICAN 8 (9.3%) 9 (10.7%) 6 (7.1%) WHITE 78 (90.7%) 74 (88.1%) 78 (92.9%) create table gtsummary::tbl_summary(), ’d need following code. steps straightforward, created tbl_roche_summary() wrapper. Another case may create helper functions {crane}, table can created {gtsummary} using ARD-first approach. Generally, creating ARD results summary table, creating table cumbersome. cumbersome cases, new function {crane} warranted.","code":"cards::ADSL |>   tbl_roche_summary(     by = ARM,     include = c(AGE, RACE),     nonmissing = \"always\"   ) cards::ADSL |>    tbl_summary(     by = ARM,      include = c(AGE, RACE),     type = list(AGE = \"continuous2\"),     statistic = list(AGE = c(\"{mean} ({sd})\", \"{median}\", \"{min} - {max}\")),     digits = all_categorical() ~ list(p = 1),     missing = \"always\",     missing_stat = \"{N_nonmiss}\",     missing_text = \"n\"   ) |>     # remove default footnote     remove_footnote_header(columns = everything()) |>     # remove the default \"Characteristic\" header     modify_header(label = \"\") |>     # convert \"0 (0.0%)\" to \"0\"     gtsummary::modify_post_fmt_fun(       fmt_fun = ~ifelse(. == \"0 (0.0%)\", \"0\", .),       columns = all_stat_cols()     ) |>     # sort the missing row to just below the header row     modify_table_body(       function(x) {         x |>           dplyr::mutate(             .by = \"variable\",             dplyr::across(dplyr::everything(), ~ .[order(row_type != \"label\", row_type != \"missing\")])           )       }     )"},{"path":[]},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"event-rate-tables-tbl_hierarchical","dir":"Articles","previous_headings":"Hierarchical Tables","what":"Event Rate Tables: tbl_hierarchical()","title":"Hierarchical and Stratified Nested Tables","text":"begin, let’s create basic tbl_hierarchical() adverse event table summarizing adverse events (AEs) within System Organ Class (SOC). gtsummary::tbl_hierarchical() function created build hierarchy tables, commonly seen reporting rates adverse events. . variables argument takes vector variable names, first corresponds outermost hierarchy level last corresponds innermost hierarchy level. AE rates calculated within hierarchy level innermost variable. default, summary AE rates also calculated label rows outer level hierarchy. setting controlled include argument, variable include include summary AE counts. example, table includes summaries AE SOC, specified include = AEDECOD resulting table include rows AEs SOCs, AE rows summary statistics. parameter can used set single variable table split column-wise. include overall row AE rates calculated overall dataset top table, set overall_row = TRUE. multiple AEs recorded subject, one events counted subject. Unique subjects identified via variable supplied using required id argument. dataset specified via required denominator argument used calculate denominators percentage calculations well N counts included table header. Note observed combinations hierarchy levels included table—event rates within given row zero row excluded. typical tbl_*() functions {gtsummary}, tbl_hierarchical() function also statistic, label, digits arguments customize hierarchy tables. Valid statistics include n, N, p. label argument can specify top-left labels variable well label used “overall” row (overall_row = TRUE). See example customization applied.","code":"ADAE_subset <- cards::ADAE |>   dplyr::filter(AEBODSYS %in% c(\"SKIN AND SUBCUTANEOUS TISSUE DISORDERS\", \"EAR AND LABYRINTH DISORDERS\")) |>   dplyr::filter(.by = AEBODSYS, dplyr::row_number() < 20)  tbl <-   tbl_hierarchical(     data = ADAE_subset,     variables = c(AEBODSYS, AEDECOD),     by = TRTA,     denominator = cards::ADSL |> mutate(TRTA = ARM),     id = USUBJID,     overall_row = TRUE   )  tbl tbl <-   tbl_hierarchical(     data = ADAE_subset,     variables = c(AEBODSYS, AEDECOD),     by = TRTA,     denominator = cards::ADSL |> mutate(TRTA = ARM),     id = USUBJID,     include = AEDECOD,     digits = everything() ~ list(p = 0),     overall_row = TRUE,     label = list(..ard_hierarchical_overall.. = \"Any Adverse Event\")   ) |>   add_overall()  tbl"},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"event-count-tables-tbl_hierarchical_count","dir":"Articles","previous_headings":"Hierarchical Tables","what":"Event Count Tables: tbl_hierarchical_count()","title":"Hierarchical and Stratified Nested Tables","text":"Similar tbl_hierarchical() function, tbl_hierarchical_count() operates nested data structures. Instead event rates function calculates event counts, option specify id parameter. means events every row data counted, regardless whether occur multiple times per subject. denominator specified, used calculate N values table header. n statistic available using function.","code":"ADAE_subset <- cards::ADAE |>   dplyr::filter(AEBODSYS %in% c(\"SKIN AND SUBCUTANEOUS TISSUE DISORDERS\", \"EAR AND LABYRINTH DISORDERS\")) |>   dplyr::filter(.by = AEBODSYS, dplyr::row_number() < 20)  tbl <-   tbl_hierarchical_count(     data = ADAE_subset,     variables = c(AEBODSYS, AEDECOD),     by = TRTA,     denominator = cards::ADSL |> mutate(TRTA = ARM),     overall_row = TRUE   )  tbl"},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"tables-of-event-rates-by-highest-severity","dir":"Articles","previous_headings":"Hierarchical Tables","what":"Tables of Event Rates by Highest Severity","title":"Hierarchical and Stratified Nested Tables","text":"addition standard implementation tbl_hierarchical() create tables event rates, function can also used generate tables event rates highest severity. means subject data one event—event highest severity—reported table. , innermost hierarchy variable (last variable variable) must converted factor variable. example, consider following table: Since subject exactly one event recorded type table, numbers within hierarchy section always add numbers preceding summary row. example, see table total number subjects treatment Placebo CARDIAC DISORDERS section 4, numbers within section , severity levels, also add 4.","code":"ADAE_subset <- cards::ADAE |>   dplyr::filter(     AEBODSYS %in% c(\"SKIN AND SUBCUTANEOUS TISSUE DISORDERS\", \"EAR AND LABYRINTH DISORDERS\", \"CARDIAC DISORDERS\")   ) |>   dplyr::filter(.by = AEBODSYS, dplyr::row_number() < 20) |>   dplyr::mutate(AESEV = factor(AESEV, ordered = TRUE, levels = c(\"MILD\", \"MODERATE\", \"SEVERE\")))  tbl_hierarchical(   data = ADAE_subset,   variables = c(AESOC, AESEV),   id = USUBJID,   denominator = cards::ADSL,   by = TRTA,   overall_row = TRUE,   label = list(AESEV = \"Highest Severity\") ) #> ℹ Denominator set by \"TRTA\" column in `denominator` data #> frame."},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"ard-first-hierarchical-tables-tbl_ard_hierarchical","dir":"Articles","previous_headings":"Hierarchical Tables","what":"ARD-First Hierarchical Tables: tbl_ard_hierarchical()","title":"Hierarchical and Stratified Nested Tables","text":"addition two functions use data frame-first approach creating hierarchy tables, ARD-first approach can taken using gtsummary::tbl_ard_hierarchical() function. function takes hierarchical ARD object class \"card\" converts hierarchical table. Hierarchical ARDs can constructed using cards::ard_stack_hierarchical() (event rates) cards::ard_stack_hierarchical_count() (event counts) functions. example:","code":"# Build the ARD ard <-   cards::ard_stack_hierarchical(     data = ADAE_subset,     variables = c(AESOC, AETERM),     by = TRTA,     denominator = cards::ADSL |> mutate(TRTA = ARM),     id = USUBJID   )  # Build the table from the ARD tbl <-   tbl_ard_hierarchical(     cards = ard,     variables = c(AESOC, AETERM),     by = TRTA,     label = list(AESOC = \"Body System or Organ Class\", AETERM = \"Dictionary-Derived Term\")   )  tbl"},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"combining-hierarchical-and-other-tables","dir":"Articles","previous_headings":"Hierarchical Tables","what":"Combining Hierarchical and Other Tables","title":"Hierarchical and Stratified Nested Tables","text":"can stack hierarchical table results results another table additional rows needed. example, wanted add “AE” row calculates number unique subjects AE observed previous hierarchical table, follows using gtsummary::tbl_stack(): “AE” table header differs previous table header include labels column N values, specify attr_order = 2 following tbl_stack() call keep table header second table stack first (quiet = TRUE silence message differing headers).","code":"# Calculate subjects with any AE across TRTA and create a single-line table for this result any_ae <-   ADAE_subset |>   distinct(USUBJID, TRTA) |>   mutate(AE_ANY = TRUE) |>   cards::ard_dichotomous(     by = TRTA,     variables = AE_ANY,     denominator = cards::ADSL   ) |>   tbl_ard_summary(by = TRTA, label = list(AE_ANY = \"Any AE\"))  any_ae # Stack tables so that the \"Any AE\" row is added at the top of the previous table tbl_stack(   tbls = list(any_ae, tbl),   attr_order = 2,   quiet = TRUE )"},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"sorting-filtering-hierarchical-tables","dir":"Articles","previous_headings":"Hierarchical Tables","what":"Sorting & Filtering Hierarchical Tables","title":"Hierarchical and Stratified Nested Tables","text":"Hierarchical tables can customized creation sorting filtering using gtsummary::sort_hierarchical() gtsummary::filter_hierarchical() functions, respectively. default, hierarchical tables sorted alphanumerically level hierarchy. applying sort_hierarchical() function existing hierarchical table sort order can changed “descending” - sorting rows descending event rate/count sum level hierarchy prevalent events listed first. addition sorting, hierarchical tables can also filtered using filter_hierarchical(), uses given expression filter rows table. examples possible filters please see documentation filter_hierarchical() function. Filtering applied innermost hierarchy level, summary rows outer hierarchy levels kept. rows section filtered summary row section also removed unless keep_empty = TRUE specified. table contains overall column column ignored filtering. See following example hierarchy table sorted descending order filtered rows one event recorded across treatment groups kept.","code":"tbl <-   tbl_hierarchical(     data = ADAE_subset,     variables = c(AEBODSYS, AEDECOD),     by = TRTA,     denominator = cards::ADSL |> mutate(TRTA = ARM),     id = USUBJID,     overall_row = TRUE   ) |>   add_overall()  tbl |>   sort_hierarchical(\"descending\") |>   filter_hierarchical(sum(n) > 1)"},{"path":"https://insightsengineering.github.io/crane/articles/hierarchical-and-nested-tables.html","id":"tables-with-stratified-nesting-tbl_strata_nested_stack","dir":"Articles","previous_headings":"","what":"Tables with Stratified Nesting: tbl_strata_nested_stack()","title":"Hierarchical and Stratified Nested Tables","text":"Oftentimes clinical trial reporting want similar nested structure hierarchical tables don’t want calculate event rates counts. calculations, use gtsummary::tbl_strata_nested_stack() function instead treating variables provided hierarchy used nested stratifying variables. Stratified sections stacked produce full table. function similar tbl_strata() nests indents stratified section. Take example standard laboratory results table reports summary statistics AVAL variable stratified PARAM AVISIT variables:","code":"ADLB_subset <- pharmaverseadam::adlb |>   dplyr::filter(     PARAMCD %in% c(\"ALB\", \"ALKPH\"),     AVISIT %in% c(\"Baseline\", \"Week 2\", \"Week 4\")   )  tbl_strata_nested_stack(   ADLB_subset,   strata = c(PARAM, AVISIT),   .tbl_fun = ~ .x |>     crane::tbl_roche_summary(       include = AVAL,       by = TRT01A,       nonmissing = \"always\",       type = list(AVAL = \"continuous2\"),       statistic = list(AVAL = c(\"{mean} ({sd})\", \"{median}\", \"{min} - {max}\"))     ) |>     modify_header(all_stat_cols() ~ \"**{level}**\") )"},{"path":"https://insightsengineering.github.io/crane/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel D. Sjoberg. Author, maintainer. Emily de la Rua. Author. Davide Garolini. Author. Abinaya Yogasekaram. Author. F. Hoffmann-La Roche AG. Copyright holder, funder.","code":""},{"path":"https://insightsengineering.github.io/crane/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sjoberg D, de la Rua E, Garolini D, Yogasekaram (2025). crane: Supplements 'gtsummary' Package Pharmaceutical Reporting. R package version 0.1.0.9032, https://github.com/insightsengineering/crane.","code":"@Manual{,   title = {crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting},   author = {Daniel D. Sjoberg and Emily {de la Rua} and Davide Garolini and Abinaya Yogasekaram},   year = {2025},   note = {R package version 0.1.0.9032},   url = {https://github.com/insightsengineering/crane}, }"},{"path":"https://insightsengineering.github.io/crane/index.html","id":"crane","dir":"","previous_headings":"","what":"Supplements the gtsummary Package for Pharmaceutical Reporting","title":"Supplements the gtsummary Package for Pharmaceutical Reporting","text":"{crane} package provides supplementary functions {gtsummary} specifically trial reporting pharmaceutical industry.","code":""},{"path":"https://insightsengineering.github.io/crane/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Supplements the gtsummary Package for Pharmaceutical Reporting","text":"can install {crane} following code. Install development version pak::pak(\"insightsengineering/crane\")","code":"install.packages(\"crane\")"},{"path":"https://insightsengineering.github.io/crane/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Supplements the gtsummary Package for Pharmaceutical Reporting","text":"basic example shows solve common problem:","code":"library(crane) #> Loading required package: gtsummary theme_gtsummary_roche() #> Setting theme \"Roche\"  tbl <- trial |>   tbl_roche_summary(by = trt, include = c(age, grade), nonmissing = \"always\") |>   add_blank_row()"},{"path":"https://insightsengineering.github.io/crane/reference/add_blank_row.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Blank Row — add_blank_row","title":"Add Blank Row — add_blank_row","text":"Add blank row variable group. blank row added bottom table. NOTE: HTML flextable output (includes RStudio IDE Viewer), blank rows render. appear table rendered Word.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_blank_row.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Blank Row — add_blank_row","text":"","code":"add_blank_row(x)"},{"path":"https://insightsengineering.github.io/crane/reference/add_blank_row.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Blank Row — add_blank_row","text":"x (gtsummary) 'gtsummary' table. table must include column named 'variable' x$table_body.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_blank_row.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Blank Row — add_blank_row","text":"updated 'gtsummary' table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_blank_row.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Blank Row — add_blank_row","text":"","code":"trial |>   tbl_roche_summary(     by = trt,     include = c(age, marker, grade),     nonmissing = \"always\"   ) |>   add_blank_row()            Drug A N = 98       Drug B N = 102     Age      n 91 98    Mean (SD) 47 (15) 47 (14)    Median 46 48    Min - Max 6 - 78 9 - 83  Marker Level (ng/mL)      n 92 98    Mean (SD) 1.02 (0.89) 0.82 (0.83)    Median 0.84 0.52    Min - Max 0.00 - 3.87 0.01 - 3.64  Grade      n 98 102    I 35 (36%) 33 (32%)    II 32 (33%) 36 (35%)    III 31 (32%) 33 (32%)"},{"path":"https://insightsengineering.github.io/crane/reference/add_hierarchical_count_row.html","id":null,"dir":"Reference","previous_headings":"","what":"Add row with counts — add_hierarchical_count_row","title":"Add row with counts — add_hierarchical_count_row","text":"Typically used add row overall AE counts table primarily displays AE rates.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_hierarchical_count_row.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add row with counts — add_hierarchical_count_row","text":"","code":"add_hierarchical_count_row(   x,   label = \"Overall total number of events\",   .before = NULL,   .after = NULL )"},{"path":"https://insightsengineering.github.io/crane/reference/add_hierarchical_count_row.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add row with counts — add_hierarchical_count_row","text":"x (gtsummary) gtsummary table label (string) label new row ., .(integer) Row index add new row. Default last row.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_hierarchical_count_row.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add row with counts — add_hierarchical_count_row","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/add_hierarchical_count_row.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add row with counts — add_hierarchical_count_row","text":"","code":"# Example 1 ---------------------------------- cards::ADAE |>   # subset the data for a shorter example table   dplyr::slice(1:10) |>   tbl_hierarchical(     by = \"TRTA\",     variables = AEDECOD,     denominator = cards::ADSL,     id = \"USUBJID\",     overall_row = TRUE   ) |>   add_hierarchical_count_row(.after = 1L)     Dictionary-Derived Term       Placebo N = 861       Xanomeline High Dose N = 841     Number of patients with event 2 (2.3%) 2 (2.4%)Overall total number of events 7 3APPLICATION SITE ERYTHEMA 1 (1.2%) 1 (1.2%)APPLICATION SITE PRURITUS 1 (1.2%) 2 (2.4%)ATRIOVENTRICULAR BLOCK SECOND DEGREE 1 (1.2%) 0 (0%)DIARRHOEA 1 (1.2%) 0 (0%)ERYTHEMA 1 (1.2%) 0 (0%)1 n (%)"},{"path":"https://insightsengineering.github.io/crane/reference/crane-package.html","id":null,"dir":"Reference","previous_headings":"","what":"crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting — crane-package","title":"crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting — crane-package","text":"Tables summarizing clinical trial results often complex require detailed tailoring prior submission health authority. 'crane' package supplements functionality 'gtsummary' package creating often highly bespoke tables pharmaceutical industry.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/crane/reference/crane-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting — crane-package","text":"Maintainer: Daniel D. Sjoberg danield.sjoberg@gmail.com (ORCID) Authors: Emily de la Rua emily.de_la_rua@contractors.roche.com Davide Garolini davide.garolini@roche.com Abinaya Yogasekaram abinaya.yogasekaram@contractors.roche.com contributors: F. Hoffmann-La Roche AG [copyright holder, funder]","code":""},{"path":"https://insightsengineering.github.io/crane/reference/deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated functions — deprecated","title":"Deprecated functions — deprecated","text":"functions deprecated longer actively supported.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated functions — deprecated","text":"","code":"tbl_demographics(..., nonmissing = \"always\")"},{"path":"https://insightsengineering.github.io/crane/reference/modify_header_rm_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Markdown Syntax from Header — modify_header_rm_md","title":"Remove Markdown Syntax from Header — modify_header_rm_md","text":"Remove markdown syntax (e.g. double star bold, underscore italic, etc) headers spanning headers gtsummary table.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/modify_header_rm_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Markdown Syntax from Header — modify_header_rm_md","text":"","code":"modify_header_rm_md(x, md = \"bold\", type = \"star\")"},{"path":"https://insightsengineering.github.io/crane/reference/modify_header_rm_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove Markdown Syntax from Header — modify_header_rm_md","text":"x (gtsummary) gtsummary table md (character) Must one 'bold' 'italic'. Default 'bold'. type (character) Must one 'star' 'underscore'. Default 'star'.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/modify_header_rm_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove Markdown Syntax from Header — modify_header_rm_md","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/modify_header_rm_md.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove Markdown Syntax from Header — modify_header_rm_md","text":"","code":"tbl_roche_summary(   data = cards::ADSL,   include = AGE,   by = ARM,   nonmissing = \"always\" ) |>   modify_header_rm_md()            Placebo N = 86       Xanomeline High Dose N = 84       Xanomeline Low Dose N = 84     Age       n 86 84 84    Mean (SD) 75 (9) 74 (8) 76 (8)    Median 76 76 78    Min - Max 52 - 89 56 - 88 51 - 88"},{"path":"https://insightsengineering.github.io/crane/reference/modify_zero_recode.html","id":null,"dir":"Reference","previous_headings":"","what":"Zero Count Recode — modify_zero_recode","title":"Zero Count Recode — modify_zero_recode","text":"function converts \"0 (0.0%)\" cells summary table \"0\". simple wrapper gtsummary::modify_post_fmt_fun().","code":"gtsummary::modify_post_fmt_fun(   x,   fmt_fun = ~ ifelse(. %in% c(\"0 (0.0%)\", \"0 (NA%)\"), \"0\", .),   columns = gtsummary::all_stat_cols() )"},{"path":"https://insightsengineering.github.io/crane/reference/modify_zero_recode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Zero Count Recode — modify_zero_recode","text":"","code":"modify_zero_recode(x)"},{"path":"https://insightsengineering.github.io/crane/reference/modify_zero_recode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Zero Count Recode — modify_zero_recode","text":"x (gtsummary) gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/modify_zero_recode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Zero Count Recode — modify_zero_recode","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/modify_zero_recode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Zero Count Recode — modify_zero_recode","text":"","code":"trial |>   dplyr::mutate(trt = factor(trt, levels = c(\"Drug A\", \"Drug B\", \"Drug C\"))) |>   tbl_summary(include = trt) |>   modify_zero_recode()     Characteristic       N = 2001     trt     Drug A 98 (49%)    Drug B 102 (51%)    Drug C 0 (0%)1 n (%)"},{"path":"https://insightsengineering.github.io/crane/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. dplyr %>% gtsummary add_overall, filter_hierarchical, label_style_number, sort_hierarchical","code":""},{"path":"https://insightsengineering.github.io/crane/reference/roche_pvalue.html","id":null,"dir":"Reference","previous_headings":"","what":"Round p-values — roche_pvalue","title":"Round p-values — roche_pvalue","text":"Round p-values","code":""},{"path":"https://insightsengineering.github.io/crane/reference/roche_pvalue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Round p-values — roche_pvalue","text":"","code":"roche_pvalue(   x,   big.mark = ifelse(decimal.mark == \",\", \" \", \",\"),   decimal.mark = getOption(\"OutDec\"),   ... )  label_roche_pvalue(   big.mark = ifelse(decimal.mark == \",\", \" \", \",\"),   decimal.mark = getOption(\"OutDec\"),   ... )"},{"path":"https://insightsengineering.github.io/crane/reference/roche_pvalue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Round p-values — roche_pvalue","text":"x (numeric) Numeric vector p-values. big.mark (string) Character used every 3 digits separate hundreds/thousands/millions/etc. Default \",\", except decimal.mark = \",\" default space. decimal.mark (string) character used indicate numeric decimal point. Default \".\"  getOption(\"OutDec\") ... Arguments passed base::format()","code":""},{"path":"https://insightsengineering.github.io/crane/reference/roche_pvalue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Round p-values — roche_pvalue","text":"character vector rounded p-values","code":""},{"path":"https://insightsengineering.github.io/crane/reference/roche_pvalue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Round p-values — roche_pvalue","text":"","code":"x <- c(0.0000001, 0.123456)  roche_pvalue(x) #> [1] \"<0.0001\" \"0.1235\"  label_roche_pvalue()(x) #> [1] \"<0.0001\" \"0.1235\""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_hierarchical_rate_and_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","title":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","text":"mix adverse event rates (gtsummary::tbl_hierarchical()) counts (gtsummary::tbl_hierarchical_count()). function produces additional summary rows higher level nesting variables providing rates counts. hierarchical summary filtered, summary rows longer provide useful/consistent information. creating filtered summary, use gtsummary::tbl_hierarchical() gtsummary::tbl_hierarchical_count() directly, followed call gtsummary::filter_hierarchical().","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_hierarchical_rate_and_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","text":"","code":"tbl_hierarchical_rate_and_count(   data,   variables,   denominator,   by = NULL,   id = \"USUBJID\",   digits = everything() ~ list(n = label_style_number(), p = label_style_number(digits =     1, scale = 100)),   sort = NULL,   label_overall_rate = \"Total number of participants with at least one adverse event\",   label_overall_count = \"Overall total number of events\",   label_rate = \"Total number of participants with at least one adverse event\",   label_count = \"Total number of events\" )  # S3 method for class 'tbl_hierarchical_rate_and_count' add_overall(   x,   last = FALSE,   col_label = \"All Participants  \\nN = {style_number(N)}\",   ... )"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_hierarchical_rate_and_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","text":"data (data.frame) data frame. variables (tidy-select) Hierarchical variables summarize. Must 2 3 variables. Typical inputs c(AEBODSYS, AEDECOD) SOC/AE summary c(AEBODSYS, AEHLT, AEDECOD) SOC/HLT/AE summary. Variables must specified nesting order. denominator (data.frame, integer) used define denominator enhance output. argument required tbl_hierarchical() optional tbl_hierarchical_count(). denominator argument must specified id used calculate event rates. (tidy-select) single column data. Summary statistics stratified variable. Default NULL. id (tidy-select) argument used subset data identify rows data calculate event rates tbl_hierarchical(). digits (formula-list-selector) Specifies summary statistics rounded. Values may either integer(s) function(s). specified, default formatting assigned via label_style_number() n statistic label_style_number(digits=1, scale=100) p statistic. sort Optional arguments passed gtsummary::sort_hierarchical(sort). label_overall_rate (string) String overall rate summary. Default \"Total number participants least one adverse event\". label_overall_count (string) String overall count summary. Default \"Overall total number events\". label_rate (string) String rate summary. Default \"Overall total number events\". \"Total number participants least one adverse event\". label_count (string) String overall count summary. Default \"Total number events\". x (tbl_hierarchical_rate_and_count) stratified 'tbl_hierarchical_rate_and_count' table last (scalar logical) Logical indicator display overall column last table. Default FALSE, display overall column first. col_label (string) String indicating column label. Default \"**Overall**  \\nN = {style_number(N)}\" ... dots future extensions must empty.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_hierarchical_rate_and_count.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_hierarchical_rate_and_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hierarchical Rates and Counts — tbl_hierarchical_rate_and_count","text":"","code":"# Example 1 ---------------------------------- cards::ADAE[c(1, 2, 3, 8, 16), ] |>   tbl_hierarchical_rate_and_count(     variables = c(AEBODSYS, AEDECOD),     denominator = cards::ADSL,     by = TRTA   ) |>   add_overall(last = TRUE)     Body System or Organ Class     Dictionary-Derived Term       Placebo N = 86       Xanomeline High Dose N = 84       Xanomeline Low Dose N = 84       All Participants N = 254     Total number of participants with at least one adverse event 1 (1.2%) 1 (1.2%) 1 (1.2%) 3 (1.2%)Overall total number of events 3 1 1 5GASTROINTESTINAL DISORDERS        Total number of participants with at least one adverse event 1 (1.2%) 0 0 1 (0.4%)    Total number of events 1 0 0 1    DIARRHOEA 1 (1.2%) 0 0 1 (0.4%)GENERAL DISORDERS AND ADMINISTRATION SITE CONDITIONS        Total number of participants with at least one adverse event 1 (1.2%) 1 (1.2%) 0 2 (0.8%)    Total number of events 2 1 0 3    APPLICATION SITE ERYTHEMA 1 (1.2%) 1 (1.2%) 0 2 (0.8%)    APPLICATION SITE PRURITUS 1 (1.2%) 0 0 1 (0.4%)SKIN AND SUBCUTANEOUS TISSUE DISORDERS        Total number of participants with at least one adverse event 0 0 1 (1.2%) 1 (0.4%)    Total number of events 0 0 1 1    ERYTHEMA 0 0 1 (1.2%) 1 (0.4%)"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_roche_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Roche Summary Table — tbl_roche_summary","title":"Roche Summary Table — tbl_roche_summary","text":"thin wrapper gtsummary::tbl_summary() following differences: Default summary type continuous variables 'continuous2'. Number non-missing observations, requested, added variable placed row variable label/header. tbl_summary(missing*) arguments renamed tbl_roche_summary(nonmissing*) updated default values. default footnotes tbl_summary() removed. Cells \"0 (0.0%)\" converted \"0\" modify_post_fmt_fun().","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_roche_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Roche Summary Table — tbl_roche_summary","text":"","code":"tbl_roche_summary(   data,   by = NULL,   label = NULL,   statistic = list(all_continuous() ~ c(\"{mean} ({sd})\", \"{median}\", \"{min} - {max}\"),     all_categorical() ~ \"{n} ({p}%)\"),   digits = NULL,   type = NULL,   value = NULL,   nonmissing = c(\"no\", \"always\", \"ifany\"),   nonmissing_text = \"n\",   nonmissing_stat = \"{N_nonmiss}\",   sort = all_categorical(FALSE) ~ \"alphanumeric\",   percent = c(\"column\", \"row\", \"cell\"),   include = everything() )"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_roche_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Roche Summary Table — tbl_roche_summary","text":"data (data.frame) data frame. (tidy-select) single column data. Summary statistics stratified variable. Default NULL. label (formula-list-selector) Used override default labels summary table, e.g. list(age = \"Age, years\"). default variable column label attribute, attr(., 'label'). label set, column name used. statistic (formula-list-selector) Specifies summary statistics display variable.  default list(all_continuous() ~ \"{median} ({p25}, {p75})\", all_categorical() ~ \"{n} ({p}%)\"). See details. digits (formula-list-selector) Specifies summary statistics rounded. Values may either integer(s) function(s). specified, default formatting assigned via assign_summary_digits(). See details. type (formula-list-selector) Specifies summary type. Accepted value c(\"continuous\", \"continuous2\", \"categorical\", \"dichotomous\"). specified, default type assigned via assign_summary_type(). See details. value (formula-list-selector) Specifies level variable display single row. gtsummary type selectors, e.g. all_dichotomous(), used argument. Default NULL. See details. nonmissing, nonmissing_text, nonmissing_stat Arguments dictating missing values presented: nonmissing: must one c(\"always\", \"ifany\", \"\") nonmissing_text: string indicating text shown non-missing row. Default \"n\" nonmissing_stat: statistic show non-missing row. Default \"{N_nonmiss}\". Possible values N_nonmiss, N_miss, N_obs,, p_nonmiss p_miss. sort (formula-list-selector) Specifies sorting perform categorical variables. Values must one c(\"alphanumeric\", \"frequency\"). Default all_categorical(FALSE) ~ \"alphanumeric\". percent (string) Indicates type percentage return. Must one c(\"column\", \"row\", \"cell\"). Default \"column\". rarer cases, may need define/override typical denominators. cases, pass integer data frame. Refer ?cards::ard_categorical(denominator) help file details. include (tidy-select) Variables include summary table. Default everything().","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_roche_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Roche Summary Table — tbl_roche_summary","text":"'gtsummary' table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_roche_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Roche Summary Table — tbl_roche_summary","text":"","code":"# Example 1 ---------------------------------- trial |>   tbl_roche_summary(     by = trt,     include = c(age, grade),     nonmissing = \"always\"   ) |>   add_overall()            Overall N = 200       Drug A N = 98       Drug B N = 102     Age       n 189 91 98    Mean (SD) 47 (14) 47 (15) 47 (14)    Median 47 46 48    Min - Max 6 - 83 6 - 78 9 - 83Grade       n 200 98 102    I 68 (34%) 35 (36%) 33 (32%)    II 68 (34%) 32 (33%) 36 (35%)    III 64 (32%) 31 (32%) 33 (32%)"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival Quantiles — tbl_survfit_quantiles","title":"Survival Quantiles — tbl_survfit_quantiles","text":"Create gtsummary table Kaplan-Meier estimated survival quantiles. must customize way results presented, see Details section full details.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survival Quantiles — tbl_survfit_quantiles","text":"","code":"tbl_survfit_quantiles(   data,   y = \"survival::Surv(time = AVAL, event = 1 - CNSR, type = 'right', origin = 0)\",   by = NULL,   header = \"Time to event\",   estimate_fun = label_style_number(digits = 1, na = \"NE\"),   method.args = list(conf.int = 0.95) )  # S3 method for class 'tbl_survfit_quantiles' add_overall(   x,   last = FALSE,   col_label = \"All Participants  \\nN = {gtsummary::style_number(N)}\",   ... )"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survival Quantiles — tbl_survfit_quantiles","text":"data (data.frame) data frame y (string expression) string expression survival outcome, e.g. survival::Surv(time, status). default value survival::Surv(time = AVAL, event = 1 - CNSR, type = \"right\", origin = 0). (tidy-select) single column data. Summary statistics stratified variable. Default NULL, returns results unstratified model. header (string) String header survival quantile chunks. Default \"Time event\". estimate_fun (function) Function used round format estimates table. Default label_style_number(digits = 1). method.args (named list) Named list arguments passed survival::survfit(). Note list may contain non-standard evaluation components, must handled similarly tidyselect inputs using rlang's embrace operator {{ . }} !!enquo() programming function. x (tbl_survfit_quantiles) stratified 'tbl_survfit_quantiles' object. last (scalar logical) Logical indicator display overall column last table. Default FALSE, display overall column first. col_label (string) String indicating column label. Default \"**Overall**  \\nN = {style_number(N)}\" ... dots future extensions must empty.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survival Quantiles — tbl_survfit_quantiles","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":"ard-first","dir":"Reference","previous_headings":"","what":"ARD-first","title":"Survival Quantiles — tbl_survfit_quantiles","text":"function helper creating common summary. need modify appearance table, may need build ARDs. general outline creating table directly ARDs. Create ARD survival quantiles using cardx::ard_survival_survfit(). Construct ARD minimum maximum survival times using cards::ard_continuous(). Combine ARDs build summary table gtsummary::tbl_ard_summary().","code":"# get the survival quantiles with 95% CI ard_surv_quantiles <-   cardx::ard_survival_survfit(     x = cards::ADTTE,     y = survival::Surv(time = AVAL, event = 1 - CNSR, type = 'right', origin = 0),     variables = \"TRTA\",     probs = c(0.25, 0.50, 0.75)   ) |>   # modify the shape of the ARD to look like a   # 'continuous' result to feed into `tbl_ard_summary()`   dplyr::mutate(     stat_name = paste0(.data$stat_name, 100 * unlist(.data$variable_level)),     variable_level = list(NULL)   )  # get the min/max followup time ard_surv_min_max <-   cards::ard_continuous(     data = cards::ADTTE,     variables = AVAL,     by = \"TRTA\",     statistic = everything() ~ cards::continuous_summary_fns(c(\"min\", \"max\"))   )  # stack the ARDs and pass them to `tbl_ard_summary()` cards::bind_ard(   ard_surv_quantiles,   ard_surv_min_max ) |>   tbl_ard_summary(     by = \"TRTA\",     type = list(prob = \"continuous2\", AVAL = \"continuous\"),     statistic = list(       prob = c(\"{estimate50}\", \"({conf.low50}, {conf.high50})\", \"{estimate25}, {estimate75}\"),       AVAL = \"{min} to {max}\"     ),     label = list(       prob = \"Time to event\",       AVAL = \"Range\"     )   ) |>   # directly modify the labels in the table to match spec   modify_table_body(     ~ .x |>       dplyr::mutate(         label = dplyr::case_when(           .data$label == \"Survival Probability\" ~ \"Median\",           .data$label == \"(CI Lower Bound, CI Upper Bound)\" ~ \"95% CI\",           .data$label == \"Survival Probability, Survival Probability\" ~ \"25% and 75%-ile\",           .default = .data$label         )       )   ) |>   # update indentation to match spec   modify_indent(columns = \"label\", rows = label == \"95% CI\", indent = 8L) |>   modify_indent(columns = \"label\", rows = .data$label == \"Range\", indent = 4L) |>   # remove default footnotes   remove_footnote_header(columns = all_stat_cols())"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_quantiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Survival Quantiles — tbl_survfit_quantiles","text":"","code":"# Example 1 ---------------------------------- tbl_survfit_quantiles(   data = cards::ADTTE,   by = \"TRTA\",   estimate_fun = label_style_number(digits = 1, na = \"NE\") ) |>   add_overall(last = TRUE, col_label = \"**All Participants**  \\nN = {n}\")            Placebo N = 86       Xanomeline High Dose N = 84       Xanomeline Low Dose N = 84       All Participants N = 254     Time to event        Median NE 36.0 33.0 51.0        95% CI (NE, NE) (25.0, 47.0) (28.0, 51.0) (44.0, 70.0)    25% and 75%-ile 70.0, NE 14.0, 58.0 19.0, 80.0 22.0, NE    Range 1.0 to 198.0 1.0 to 189.0 1.0 to 190.0 1.0 to 198.0 # Example 2: unstratified analysis ----------- tbl_survfit_quantiles(data = cards::ADTTE)            Overall N = 254     Time to event     Median 51.0        95% CI (44.0, 70.0)    25% and 75%-ile 22.0, NE    Range 1.0 to 198.0"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival Times — tbl_survfit_times","title":"Survival Times — tbl_survfit_times","text":"Create gtsummary table Kaplan-Meier estimated survival estimates specified times.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survival Times — tbl_survfit_times","text":"","code":"tbl_survfit_times(   data,   times,   y = \"survival::Surv(time = AVAL, event = 1 - CNSR, type = 'right', origin = 0)\",   by = NULL,   label = \"Time {time}\",   statistic = c(\"{n.risk}\", \"{estimate}%\", \"{conf.low}%, {conf.high}%\"),   estimate_fun = label_style_number(digits = 1, scale = 100),   method.args = list(conf.int = 0.95) )  # S3 method for class 'tbl_survfit_times' add_overall(   x,   last = FALSE,   col_label = \"All Participants  \\nN = {gtsummary::style_number(N)}\",   ... )"},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survival Times — tbl_survfit_times","text":"data (data.frame) data frame times (numeric) vector times return survival probabilities. y (string expression) string expression survival outcome, e.g. survival::Surv(time, status). default value survival::Surv(time = AVAL, event = 1 - CNSR, type = \"right\", origin = 0). (tidy-select) single column data. Summary statistics stratified variable. Default NULL, returns results unstratified model. label (string) Label appear header row. Default \"Time {time}\", glue syntax injects time estimate label. statistic (character) Character vector statistics report. May use following statistics: c(n.risk, estimate, std.error, conf.low, conf.high), Default c(\"{n.risk}\", \"{estimate}%\", \"{conf.low}%, {conf.high}%\") estimate_fun (function)  Function used style/round c(estimate, conf.low, conf.high) statistics. method.args (named list) Named list arguments passed survival::survfit(). Note list may contain non-standard evaluation components, must handled similarly tidyselect inputs using rlang's embrace operator {{ . }} !!enquo() programming function. x (tbl_survfit_times) stratified 'tbl_survfit_times' object last (scalar logical) Logical indicator display overall column last table. Default FALSE, display overall column first. col_label (string) String indicating column label. Default \"**Overall**  \\nN = {style_number(N)}\" ... dots future extensions must empty.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survival Times — tbl_survfit_times","text":"gtsummary table","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Survival Times — tbl_survfit_times","text":"statistic argument modified, statistic labels likely also need updated. change label, call modify_table_body() function directly update underlying x$table_body data frame.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/tbl_survfit_times.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Survival Times — tbl_survfit_times","text":"","code":"# Example 1 ---------------------------------- tbl_survfit_times(   data = cards::ADTTE,   by = \"TRTA\",   times = c(30, 60),   label = \"Day {time}\" ) |>   add_overall()            All Participants N = 254       Placebo N = 86       Xanomeline High Dose N = 84       Xanomeline Low Dose N = 84     Day 30        Patients remaining at risk 149 69 38 42    Event Free Rate (%) 64.1% 84.4% 53.0% 53.4%    95% CI 58.2%, 70.5% 77.0%, 92.6% 42.8%, 65.7% 43.4%, 65.6%Day 60        Patients remaining at risk 93 59 14 20    Event Free Rate (%) 45.7% 76.8% 24.3% 31.1%    95% CI 39.6%, 52.7% 68.2%, 86.6% 15.8%, 37.3% 21.9%, 44.1%"},{"path":"https://insightsengineering.github.io/crane/reference/theme_gtsummary_roche.html","id":null,"dir":"Reference","previous_headings":"","what":"Roche Theme — theme_gtsummary_roche","title":"Roche Theme — theme_gtsummary_roche","text":"gtsummary theme Roche tables flextable- gt-printed tables styled reduced padding font size. Uses label_roche_pvalue() default formatting function p-values. Font size defaults 8 points table footers 7 points. Border defaults flextable::fp_border_default(width = 0.5). add_overall(col_label) default value updated.","code":""},{"path":"https://insightsengineering.github.io/crane/reference/theme_gtsummary_roche.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Roche Theme — theme_gtsummary_roche","text":"","code":"theme_gtsummary_roche(set_theme = TRUE)"},{"path":"https://insightsengineering.github.io/crane/reference/theme_gtsummary_roche.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Roche Theme — theme_gtsummary_roche","text":"set_theme (scalar logical) Logical indicating whether set theme. Default TRUE. FALSE named list theme elements returned invisibly","code":""},{"path":"https://insightsengineering.github.io/crane/reference/theme_gtsummary_roche.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Roche Theme — theme_gtsummary_roche","text":"theme list","code":""},{"path":"https://insightsengineering.github.io/crane/reference/theme_gtsummary_roche.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Roche Theme — theme_gtsummary_roche","text":"","code":"theme_gtsummary_roche() #> Setting theme \"Roche\"  tbl_roche_summary(   trial,   by = trt,   include = c(age, grade),   nonmissing = \"always\" )            Drug A N = 98       Drug B N = 102     Age      n 91 98    Mean (SD) 47 (15) 47 (14)    Median 46 48    Min - Max 6 - 78 9 - 83Grade      n 98 102    I 35 (35.7%) 33 (32.4%)    II 32 (32.7%) 36 (35.3%)    III 31 (31.6%) 33 (32.4%) reset_gtsummary_theme()"},{"path":"https://insightsengineering.github.io/crane/news/index.html","id":"crane-0109032","dir":"Changelog","previous_headings":"","what":"crane 0.1.0.9032","title":"crane 0.1.0.9032","text":"{gtsummary} now loaded {crane}. tbl_demographics() function renamed tbl_roche_summary() following updates. (#73). Updated tbl_roche_summary() convert cells \"0 (0.0%)\" \"0\". Update tbl_roche_summary() returned inputs list match tbl_roche_summary() argument inputs, whereas previously returned tbl_summary() inputs. (#31) Changed default header tbl_roche_summary() tables **Characteristic** empty string. Fix tbl_roche_summary() variable NA within stratum. zero count displayed \"0 (NA%)\" instead \"0\". (#60) Adding modify_zero_recode() function recodes \"0 (0.0%)\" \"0\" summary tables. Adding modify_header_rm_md() function remove bold italic markdown syntax headers gtsummary table. (#53) Adding tbl_hierarchical_rate_and_count() associated S3 method add_overall() summarize hierarchical event rates counts. (#36) Adding tbl_survfit_times() add_overall.tbl_survfit_times() Added article giving overview {crane} package. (#37) Added tbl_survfit_quantiles() add_overall.tbl_survfit_quantiles() create table survival quantiles. (#19) Added {flextable} specs theme_gtsummary_roche(). Mainly border line width (0.5) footer font size (font_size - 1).","code":""},{"path":"https://insightsengineering.github.io/crane/news/index.html","id":"crane-010","dir":"Changelog","previous_headings":"","what":"crane 0.1.0","title":"crane 0.1.0","text":"CRAN release: 2025-02-24 Initial release","code":""}]
