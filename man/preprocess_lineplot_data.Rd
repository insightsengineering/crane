% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gg_lineplot.R
\name{preprocess_lineplot_data}
\alias{preprocess_lineplot_data}
\title{Preprocess Data for Line Plot Statistics}
\usage{
preprocess_lineplot_data(
  df,
  alt_counts_df = NULL,
  x = "AVISIT",
  y = "AVAL",
  group_var = "ARM",
  subject_var = "USUBJID",
  mid = "mean",
  conf_level = 0.95
)
}
\arguments{
\item{df}{The primary data frame containing the data to plot (e.g., ADaM BDS).}

\item{alt_counts_df}{An optional data frame for calculating N counts (e.g., ADSL).}

\item{x}{Column name for the x-axis (e.g., "AVISIT").}

\item{y}{Column name for the y-axis values (e.g., "AVAL").}

\item{group_var}{Column name for the grouping variable (e.g., "ARM").}

\item{subject_var}{Column name for the subject ID (e.g., "USUBJID").}

\item{mid}{Column name for the mean/median statistic to be plotted (e.g., "mean").}

\item{conf_level}{The confidence level for the interval (default is 0.95).}
}
\value{
A data frame (\code{df_stats}) containing the calculated statistics, ready for plotting.
}
\description{
Cleans, expands, joins, and computes summary statistics
(using \link{calc_stats}) from the raw data frame, preparing it for plotting.
}
\examples{
library(dplyr)
library(tidyr)

# Create example ADaM-like data
set.seed(123)
adlb <- data.frame(
  USUBJID = rep(paste0("SUBJ-", 1:20), each = 3),
  ARM = rep(c(rep("Treatment A", 10), rep("Treatment B", 10)), each = 3),
  AVISIT = rep(factor(c("Baseline", "Week 4", "Week 8")), 20),
  AVAL = rnorm(60, mean = 12, sd = 2)
)

adsl <- data.frame(
  USUBJID = paste0("SUBJ-", 1:20),
  ARM = c(rep("Treatment A", 10), rep("Treatment B", 10))
)

# Preprocess data for line plot
df_stats <- preprocess_lineplot_data(
  df = adlb,
  alt_counts_df = adsl,
  x = "AVISIT",
  y = "AVAL",
  group_var = "ARM",
  subject_var = "USUBJID"
)

# Without grouping variable
df_stats_ungrouped <- preprocess_lineplot_data(
  df = adlb,
  x = "AVISIT",
  y = "AVAL",
  group_var = NULL
)
}
