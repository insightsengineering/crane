% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gg_lineplot.R
\name{g_lineplot_with_table}
\alias{g_lineplot_with_table}
\title{Generate Line Plot with Optional Summary Table}
\usage{
g_lineplot_with_table(
  df_stats,
  x = "AVISIT",
  group_var = "ARM",
  strata_N = NULL,
  mid = "mean",
  whiskers = c("mean_ci_lwr", "mean_ci_upr"),
  table = NULL,
  mid_type = "pl",
  mid_point_size = 2,
  position = position_dodge(width = 0.4),
  legend_title = NULL,
  legend_position = "bottom",
  ggtheme = nestcolor::theme_nest(),
  x_lab = NULL,
  y_lab = NULL,
  title = "Plot of Mean and 95\% Confidence Limits by Visit",
  subtitle = "",
  caption = NULL,
  table_font_size = 3,
  decimal_places = 2,
  errorbar_width = 0.45,
  col = NULL,
  linetype = NULL,
  rel_height_plot = 0.5
)
}
\arguments{
\item{df_stats}{The pre-calculated data frame containing summary statistics.}

\item{x}{Column name for the x-axis (e.g., "AVISIT").}

\item{group_var}{Column name for the grouping variable (e.g., "ARM").}

\item{strata_N}{Column name for the group label including N (usually generated by preprocess_lineplot_data).}

\item{mid}{Column name for the plot midpoint (e.g., "mean").}

\item{whiskers}{A vector of two column names for the lower and upper error bar limits.}

\item{table}{A character vector of statistic column names to display in the table (e.g., c("n", "mean")).}

\item{mid_type}{String indicating whether to plot points ("p"), lines ("l"), or both ("pl").}

\item{mid_point_size}{Numeric value for the size of points.}

\item{position}{Position adjustment for dodging points and lines.}

\item{legend_title}{Title for the legend.}

\item{legend_position}{Position of the legend.}

\item{ggtheme}{ggplot2 theme to apply (default: nestcolor::theme_nest()).}

\item{x_lab}{Label for the x-axis.}

\item{y_lab}{Label for the y-axis.}

\item{title}{Plot title.}

\item{subtitle}{Plot subtitle.}

\item{caption}{Plot caption.}

\item{table_font_size}{Font size for the table text.}

\item{decimal_places}{Integer specifying the number of decimal places for numeric statistics in the table.}

\item{errorbar_width}{Width of error bars.}

\item{col}{Vector of color values for manual color scaling.}

\item{linetype}{Vector of line type values for manual line type scaling.}

\item{rel_height_plot}{Relative height of the plot component compared to the table (default: 0.5).}
}
\value{
A combined plot/table (\code{cowplot}) or just the plot (\code{ggplot}).
}
\description{
Generates and combines a line plot and an optional summary table
from a pre-calculated statistics data frame (\code{df_stats}).
}
\examples{
library(ggplot2)
library(dplyr)
library(cowplot)

# Create example statistics data frame
df_stats <- data.frame(
  AVISIT = factor(c("Baseline", "Week 4", "Week 8", "Baseline", "Week 4", "Week 8")),
  ARM = c(rep("Treatment A", 3), rep("Treatment B", 3)),
  ARM_N = c(rep("Treatment A (N = 50)", 3), rep("Treatment B (N = 48)", 3)),
  n = c(50, 48, 45, 48, 46, 44),
  mean = c(10.5, 12.3, 14.1, 10.8, 11.5, 12.2),
  mean_ci_lwr = c(9.2, 11.0, 12.8, 9.5, 10.2, 10.9),
  mean_ci_upr = c(11.8, 13.6, 15.4, 12.1, 12.8, 13.5),
  mean_ci = c(
    "9.20 11.80", "11.00 13.60", "12.80 15.40",
    "9.50 12.10", "10.20 12.80", "10.90 13.50"
  )
)
df_stats$ARM_N <- factor(df_stats$ARM_N)

# Line plot without table
g_lineplot_with_table(
  df_stats = df_stats,
  x = "AVISIT",
  group_var = "ARM",
  strata_N = "ARM_N",
  table = NULL
)

# Line plot with summary table
g_lineplot_with_table(
  df_stats = df_stats,
  x = "AVISIT",
  group_var = "ARM",
  strata_N = "ARM_N",
  table = c("n", "mean", "mean_ci"),
  title = "Mean Values with 95\% CI by Visit",
  rel_height_plot = 0.6
)
}
